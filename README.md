## Gazebo Simulator

## Launching
To launch simulator run: 
``` 
roslaunch selfie_race selfie_sim.launch
```

To steer Selfie with keyboard run:
```
rosrun selfie_sim_control keyboard_teleop.py 
```
To generate a track and launch the simulation:
```
rosrun selfie_race generate_launch.sh
```
To open the simulation with the same track:
```
roslaunch selfie_race generated.launch
```
### Subscribed topics

"/keyboard_steering_ackermann/teleop"
 ([ackermann_msgs/AckermannDriveStamped](http://docs.ros.org/api/ackermann_msgs/html/msg/AckermannDriveStamped.html))
 This topic is where you can put your steering commands to drive Selfie in simulator

### Published topics
"/camera/zed/rgb/image_rect_color" 
 ([sensor_msgs/Image] (http://docs.ros.org/melodic/api/sensor_msgs/html/msg/Image.html))
 topic for camera image generated by gazebo. The place where camera is mounted on Selfie will be adjusted in te future. You can   experiment with bunch of camera setting by changing values in file:           src/simulator/selfie_simulator/selfie_description/urdf/sensor_properties.xacro 
 
"/scan"
 ([sensor_msgs/LaserScan] ( http://docs.ros.org/melodic/api/sensor_msgs/html/msg/LaserScan.html))
 topic for lidar data generated by gazebo. Laser plugin aims to imitate Hokuyo Lidar. 


### Track generation
to install required python modules run:
```
sudo apt-get install python3 python3-tk libffi-dev python3-pip
pip3 install --user pyxb==1.2.5 lxml numpy tqdm matplotlib shapely scipy cairocffi
```


